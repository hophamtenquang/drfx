{% extends 'base/base.html' %}
{% block title %}PM - Home Page{% endblock %}
{% load static %}
{% block content %}
<div class="container-fluid" ng-controller="productCtrl">
  <div class="row">
    <div class="content p-4">
        <h2 class="mb-4">Add Product</h2>
          <form class="form-horizontal" method="post">
            {% csrf_token %}
            <p style="color: green" >{$ success_create $}</p>
            <div class="form-group">
              <label class="control-label col-sm-2" for="code">Code:</label>
              <div class="col-sm-10">
                <input type="text" ng-required="True"
                       maxlength="20" ng-change="errorRemove()"
                       class="form-control" id="code" ng-model="newproduct.code"  placeholder="Enter code">
              </div>
              <p style="color: red" >{$ error.code $}</p>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2" for="title">Title:</label>
              <div class="col-sm-10">
                <input ng-required="True"
                       type="text" class="form-control" ng-change="errorRemove()"
                       ng-model="newproduct.title"  id="title" placeholder="Enter Title">
              </div>
              <p style="color: red" >{$ error.title $}</p>
            </div>
             <div class="form-group">
              <label class="control-label col-sm-2" for="title">Category:</label>
              <div class="col-sm-10">
                <select class="form-control col-sm-10" id="sel1" ng-model="newproduct.category">
                  <option ng-repeat="c in categories" ng-required="True" value="{$ c.id $}">{$ c.code $} - {$ c.title $}</option>
              </select>
              </div>
               <p style="color: red" >{$ error.category $}</p>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2" for="title">Manufactory:</label>
              <div class="col-sm-10">
                <select class="form-control col-sm-10" id="sel1" ng-model="newproduct.factory">
                  <option ng-repeat="f in factories" ng-required="True" value="{$ f.id $}">{$ f.code $} - {$ f.title $}</option>
              </select>
              </div>
              <p style="color: red" >{$ error.factory $}</p>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2" for="key">Key:</label>
              <div class="col-sm-10">
                <input ng-required="True"
                        type="text" class="form-control" ng-change="errorRemove()"
                       ng-model="newproduct.key"  id="key" placeholder="Enter Key">
              </div>
              <p style="color: red" >{$ error.key $}</p>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2" for="description">Description:</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" ng-change="errorRemove()"
                       ng-model="newproduct.description"  id="description" placeholder="Enter description">
              </div>
              <p style="color: red" >{$ error.description $}</p>
            </div>

            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-10">
                <button class="btn btn-default" ng-click="post()" >Add <Category></Category></button>
              </div>
            </div>
          </form>
    </div>
  </div>
</div>
{% endblock %}
{% block footer_javascript %}
    <script src="static/js/product/product.js"></script>
{% endblock %}
